<app-calendar-page [selectedType]="'day'" (selectedDate)="onSelectedDateChange($event)"></app-calendar-page>


<div>{{selectedDate}}</div>

<div cdkDropListGroup class="day-table">
  @for (hour of eventsByHour; track hour.id) {

    @if (hour.events) {
      <div
        class="hourTable"
        cdkDropList
        [id]="'hour-' + hour.id"
        [cdkDropListData]="hour.events"
        [cdkDropListConnectedTo]="connectedDropLists"
        (cdkDropListDropped)="dropped($event)"
      > <span>{{ hour.value }}</span>
        @for (event of hour.events; track event.id) {
          <div
            class="event-box"
            cdkDragBoundary='.day-table'
            cdkDragLockAxis="y"
            [style.width]="getEventWidth(hour.events.length)"
            [style.height]="(event.duration+'px').toString()"
            [style.background-color]="event.color"
            cdkDrag
          >
            <div>{{ event.title }}</div>
          </div>
        }
      </div>
    }
  }
</div>
